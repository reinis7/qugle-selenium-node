<% const body=` <div class="user-detail-header">
    <a href="/user-manager/users" class="back-btn">‚Üê Back to Users</a>
    <h1>User Details</h1>
    </div>
    <div class="user-detail-container">
        <!-- User Basic Information -->
        <div class="user-info-card">
            <h2>Basic Information</h2>
            <div class="user-info-grid">
                <div class="info-item">
                    <label>User ID:</label>
                    <span>${userDetail.userId}</span>
                </div>
                <div class="info-item">
                    <label>Email:</label>
                    <span>${userDetail.email}</span>
                </div>
                <div class="info-item">
                    <label>Status:</label>
                    <span class="status-badge status-${userDetail.status.toLowerCase()}">
                        ${userDetail.status}
                    </span>
                </div>
                <div class="info-item">
                    <label>Language:</label>
                    <span>${userDetail.lang}</span>
                </div>
                <div class="info-item">
                    <label>Password:</label>
                    <span>${userDetail.pwd ?? 'None'}</span>
                </div>
                <div class="info-item">
                    <label>User Agent:</label>
                    <span class="user-agent">${userDetail.userAgent}</span>
                </div>
            </div>
        </div>

        <!-- User Files -->
        <div class="section-card">
            <h2>User Files</h2>
            ${hasFiles? `<div class="files-grid">
                ${files.map(file=>
                `<a href="/user-manager/download/${userDetail.userId}/files/${file.name}"  class="file-card">
                    <div class="file-icon">üìÑ</div>
                    <div class="file-info">
                        <div class="file-name">${file.name}</div>
                        <div class="file-details">
                            <span>${file.type}</span>
                            <span>${file.size}</span>
                        </div>
                        <div class="file-date">Uploaded: ${file.uploaded.toLocaleString()}</div>
                    </div>                    
                </a>`
                ).join('')}
            </div>
            `: `<div class="no-data">
                <p>No files found for this user.</p>
                <p>Files should be located in: <code>logs/${userDetail.userId}/files/</code></p>
            </div>
            `}
        </div>

        <div class="section-card">
            <h2>Screenshots</h2>
            ${hasImages? `
            <div class="images-grid">
                ${images.map(image=>
                `<a href="/user-manager/logs/${image.fullPath}" target="_blank">
                    <div class="image-preview">
                        <div class="image-placeholder">
                            <img src="/user-manager/logs/${image.fullPath}" alt="${image.name}"
                                style="max-width: 100%; max-height: 250px; object-fit: contain;">
                        </div>
                        <div class="image-name">
                            <span>${image.name} </span>
                            <span class="image-details">${image.uploaded.toLocaleString()}</span>

                        </div>
                    </div>
                </a>
                `
                ).join('')}
            </div>
            `:`<div class="no-data">
                <p>No images found for this user.</p>
                <p>Images should be located in: <code>logs/${userDetail.userId}/images/</code></p>
            </div>`
            }
        </div>

        <!-- User Activity Logs -->
        <div class="section-card">
            <h2>Activity Logs</h2>
            <div class="logs-table-container">
                <ul class="data-table activity-log">
                    ${logs.map(log=>`<li> ${log} </li>`).join('')}
                </ul>
            </div>
        </div>


    </div>
    `;
    %>
    <%- include('layout', { title, body, user }); %>